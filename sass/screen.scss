@import "compass";
@import "compass/typography/vertical_rhythm";
// @import "compass/css3/transform";
// Core variables and mixins

@import "bootstrap/variables"; 
@import "bootstrap/mixins";

// CSS Reset
@import "bootstrap/reset";

// Grid system and page structure
@import "bootstrap/scaffolding";
@import "bootstrap/grid";
@import "bootstrap/layouts";

// Base CSS

@import "bootstrap/type";
@import "bootstrap/forms";

// Components: common
@import "bootstrap/sprites";
@import "bootstrap/dropdowns";
//@import "bootstrap/wells";
@import "bootstrap/component-animations";
// @import "bootstrap/close";

// Components: Buttons & Alerts
@import "bootstrap/buttons";
//@import "bootstrap/button-groups";
@import "bootstrap/alerts"; // Note: alerts share common CSS with buttons and thus have styles in _buttons.scss

// Components: Nav
@import "bootstrap/navs";
@import "bootstrap/navbar";

// Components: Popovers
// @import "bootstrap/modals";
// @import "bootstrap/tooltip";
// @import "bootstrap/popovers";

// Components: Misc
@import "bootstrap/thumbnails";
//@import "bootstrap/accordion";

// Utility classes
@import "bootstrap/utilities"; // Has to be last to override when necessary

// @import "bootstrap/bootstrap-responsive";

// Responsive ------------------------------------------------------------------------

@import "bootstrap/responsive-utilities";
// MEDIA QUERIES
// ------------------

// Large desktops
// @import "bootstrap/responsive-1200px-min";

// Tablets to regular desktops
@import "bootstrap/responsive-768px-979px";

// Phones to portrait tablets and narrow desktops
@import "bootstrap/responsive-767px-max";


// RESPONSIVE NAVBAR
// ------------------

// From 979px and below, show a button to toggle navbar contents
@import "bootstrap/responsive-navbar";
@import "flexslider";


// .offset3  { @include rhythm-borders($width, $lines, $font-size, $border-style); }
// .offset3  { @include rhythm-borders(5px); }
// @include leader();
// @include rhythm-borders(5px);
// @include adjust-font-size-to(18px);
// @include trailer(); @include trailing-border();

//trailing-border($width, $lines, $font-size, $border-style)

// Css before Compass 
.page-work-landing nav ~ .container {
    border-bottom:#E8E8E8;
    @include trailer(2); 
    @include trailing-border($width: 1px, $lines: 1, $font-size: $base-font-size, $border-style: $default-rhythm-border-style);
}

.page-work .container:nth-last-of-type(2) {
  border:none;
}

.page-services {
  img {
    max-height: 180px;
    border: solid 4px $grayDark;
    &:hover {
      border: solid 4px #FFF;
      outline: solid 2px $redDark;
    }
  }
  .slider-services {
    a {
      color: $grayDark;
      &:hover {
        color: $redDark;
      }
    }
  }
}

// figure {
//   display: block;
// }

// figcaption {
//       clear: both;
//       text-align:center;
//       font-weight: bold;
//       // color: $grey;
//       padding: 1em 0 0 0;
//     }
//   img:hover {
//     border: solid 3px #FFF;
//     outline: solid 1px $red;
//   }
//   &:hover {color:$redDark;} 
//       border-top-right-radius: 1.2em;
// }

.slider-services .row:nth-child(3) {
  margin-top:1em;
  margin-bottom: 2em;
}
  
// Formating  ----------------------------------------


.page-header {
  border: none;
}

.span3 .panel, .span3 .front, .span3 .back  {
    // 220 x 124
    min-height: 124px;
}


// Iframes ---------------------------------------------
iframe {
    border: none !important;
    // width: 100%;
    // height: 100%;
    width: 940px;
    height: 529px;
}


.page-contact iframe {
    border: none !important;
    // width: 100%;
    // height: 100%;
    width: 460px;
    height: 620px;

}
.page-contact {
  input, textarea {
    height: 100%;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
}


// html { height: 100% }
// body { height: 100%; margin: 0; padding: 0 }

#map {
    // @include leader(1);
    @include trailer(1);
    // @include leading-border($width: 1px, $lines: 1, $font-size: $base-font-size, $border-style: dotted);
}

#map_canvas { 
    height: 300px;
    width:460px;
}

#pano { 
    height: 300px;
    width:460px;
}


#contactBtn {
    width: 33.3% !important;
    float: right;
    background: none;
    background: $grayLight;
    text-shadow: none;
    color: white;
    box-shadow: none;
    border-radius: none;
}



// @-moz-document url-prefix() { 
//   iframe {
//     min-height: 529px;
//   }
// }

// body.ie7 iframe, body.ie8 iframe, body.ie9 iframe,  { 
//   iframe {
//     min-height: 529px !important;
//   }
// }





@media (max-width: 979px) and (min-width: 768px) {
  iframe {
    max-height: 406px;
  }
}

@media (max-width: 628px) {
  iframe {
    max-height: 273px;
  }
}

@media (max-width: 767px) {
  iframe {
    max-height: 329px;
  }
}

.span6 iframe {
    // 460px by 259px - 
    max-height: 259px; 
}
.span9 iframe {
    // 700px by 393px - 
    max-height: 393px; 
}


@media (min-width: 1200px) {     
    .span4 iframe {
        // 370px by 208px
        max-height: 208px;
    }
    .span6 iframe {
        // 570px by 320px
        max-height: 320px;
    }
    .span9 iframe {
        max-height: 489px;
    }
    .span3 .panel, .span3 .front, .span3 .back  {
        // 270 x 152
        max-height: 152px;
    }
}

.projects {
  .flexslider {
    background: #FFF; 
    position: relative; 
    @include leader(1); 
    @include trailer(0); 
  }
}


.mrgT1 {  @include leader(1);  }
.mrgT2 {  @include leader(2);  }

#rowTop {
  @include trailer(2);
    @media (max-width: 767px) {
      @include trailer(0);
    }
}

#rowBottom {
  @include trailer(1);
}


@media (min-width: 768px) and (max-width: 979px) {
  // 352px by 198px
  .span6 iframe {
    max-height: 198px;
  }
  .span9 iframe {
    max-height: 198px;
  }
    .span3 .panel, .span3 .front, .span3 .back  {
        // 166 x 93
        min-height: 93px;
    }

}


//Footer --------------------------------
.footer {
  position: relative;
    background: $grayLight;
    background: #fff;
    width:100%;
    margin-top:20px;
    padding:20px 0;
    border-bottom: solid 1px #FFF;
    @include box-shadow(#{inset 0 3px 8px rgba(0,0,0,.125)});
    border-top: solid 1px $red;
    /*
    @media (max-width: 480px) {
      box-shadow:none;
      border-top: solid 2px $red;
    }    
  */
    #footer-extra p {
      border-top: solid 1px lighten($red, 25%);
      text-align: center;
      padding-top: 1em;
      font-style: italic;
    }
    footer {
      padding: 0 1em;
    }
    a {
      color: $redDark;
    }
    li {
        list-style:none;
    }
}

.brdModMin::before {
  border: 1px dashed #888;
  bottom: 5px;
  content: "";
  left: 5px;
  position: absolute;
  right: 5px;
  top: 5px;
  z-index: -1;
}

.brdModMin::after {
  content: ".";
  display: block;
  height: 0;
  font-size: 0;
  clear: both;
  visibility: hidden;
}




// Isotope --------------------------------------------------------

/**** Isotope Filtering ****/

.isotope-item {
  z-index: 2;
}

.isotope-hidden.isotope-item {
  pointer-events: none;
  z-index: 1;
}

/**** Isotope CSS3 transitions ****/

.isotope,
.isotope .isotope-item {
  -webkit-transition-duration: 0.8s;
     -moz-transition-duration: 0.8s;
       -o-transition-duration: 0.8s;
          transition-duration: 0.8s;
}

.isotope {
  -webkit-transition-property: height, width;
     -moz-transition-property: height, width;
       -o-transition-property: height, width;
          transition-property: height, width;
}

.isotope .isotope-item {
  -webkit-transition-property: -webkit-transform, opacity;
     -moz-transition-property:    -moz-transform, opacity;
       -o-transition-property:         top, left, opacity;
          transition-property:         transform, opacity;
}

/**** disabling Isotope CSS3 transitions ****/

.isotope.no-transition,
.isotope.no-transition .isotope-item,
.isotope .isotope-item.no-transition {
  -webkit-transition-duration: 0s;
     -moz-transition-duration: 0s;
       -o-transition-duration: 0s;
          transition-duration: 0s;
}

/* disable CSS transitions for containers with infinite scrolling*/
.isotope.infinite-scrolling {
  -webkit-transition: none;
     -moz-transition: none;
       -o-transition: none;
          transition: none;
}

/* required for containers to inherit vertical size from window */
html, body {
  height: 100%;
}

#container {
  margin-bottom: 20px;
}

.element {
  width: 270px;
  height: 152px;
  margin: 1em 1em 3em 1em;
  float: left;
  position: relative;
  background: $grey;
  color: $grayDark;
  img {
    border: solid 3px #FFF;
    outline: solid 1px #FFF;
  }
  img:hover {
    border: solid 3px #FFF;
    outline: solid 1px $red;
  }
  &:hover {color:$redDark;} 
}

.element * {
  position: absolute;
  margin: 0;
}

.element .name {
  background: #FFF;
  bottom: -36px;
  font-size: 1em;
  font-family: $sansFontFamily;
  font-weight: bold;
  text-align: center;
  width: 100%;
}

#btnProjCane2 .name {
bottom: -56px;
}

.element:hover {
  cursor: pointer;
}

#options {
  // @include leader(1);
  @include trailer(1);

  li {
    float: left;
  }

  li a {
  display: block;
  padding: 0.5em 1em;
  color: $grey;
  @include border-radius(3px);
    &:hover {
      color: $grayDark;
    }
    &:active {
      background-color: $redLight;
      @include box-shadow(#{inset 0 3px 8px rgba(0,0,0,.125)});
    }
    &.selected {
      @include box-shadow(#{inset 0 3px 8px rgba(0,0,0,.125)});
      background-color: $redLight;
      text-shadow: none;
      color: white;
    }

  }

}

/* Combination filter options*/

#options .option-combo {
  display: inline-block;
  float: left;
  margin-right: 10px;
}

#options .option-combo ul {
  margin-right: 20px;
  display: inline-block;
}

#options .option-combo h2, #options .option-combo h4 {
  line-height: 34px;
  margin-bottom: 0;
  margin-right: 5px;
  display: inline-block;
  vertical-align: top;
}

 
// End Isotope ------------------

.slides li#home-slide   {
  background: $red;
  width: 870px;
  height: 490px;
  h2, p {
    font-family: $sansFontFamily;
    text-align: left;
    color: #FFF;
  }
  h2 {
    padding: 2em;
  }
  p {
  }
}


#home-slider, #main-slider {
  @include leader(2);
  @include trailer(2);
}
.page-index-colour-slider {
  .span8 {
    margin-left: 20px;
  }
  .flexslider_children {
    li {
      z-index: 999;
      @include leader(2);
      @include border-radius(3px);  
    }

    h2, h3, p {
      padding:0;
      padding:0 1em;
    }
    h3 {
      font-family: $sansFontFamily;
    }

    p {
      @include trailer(1);
       transition: all 10s ease-in; 
    }

    li#dy {
      background-color: #eb6a28;
      color: white;
    }

    li#apn {
      background-color: #79C19C;
    }

    li#cane  {
      background-color: #FECF07;
    }

    li#aiy  {
      background-color: #049BC4;
      color: white;
    }

    li#ps  {
      background-color: #FFCF11;
    }

    li#wol {
      background-color: #F8B624;
    }
  }
}


.flexslider_children {

  .slides li {
    h2 {
      @include leader(.5);
    }
    h2 {
      text-align: center;
    }
    p, h3 {
      text-align: left;
    }
    p {
      @include adjust-font-size-to(14px);
      font-weight: normal;
      color: $grayDark;
      color: #000;;
    }
  }
}


.home-thumb {
  position:relative;
  cursor: pointer;
    .home-thumb-text {
      @include trailer(.5);
      z-index: 999;
      position:absolute;
      top: 0;
      left: 0;
      color: #000;
    }
    span {
      margin: 5px 0 5px 0;
    }
    h2, p {
      font-weight: bold;
      background:$redDark;
      color: #fff;
      display: inline;
      letter-spacing: .02em;
      @include border-radius(0 3px  3px 0);
        border-bottom: solid 1px rgba(0,0,0, .8);
        border-top: solid 1px rgba(255,255,255, .6);
    }

    h2 {
      display: inline-block;
      position:relative;
      top: 0px;
      @include leader(0);
      @include trailer(.5);
      padding: .25em 10px .25em 4px;
      color: #fff;
      @include adjust-font-size-to(18px, 1.2); 
      border-top: none;
    }

    p {
      position:relative;
      @include leader(0); 
      @include trailer(1);
      @include adjust-font-size-to(14px, 1.2); 
      text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.8);
      padding: 3px 3px 3px 3px;
      font-weight: normal;
    }
}

.home-thumb2 {
  position:relative;
  cursor: pointer;
  text-align: center;
  img {
    margin: 0 auto;
    text-align: center;
  }
  &:hover {
    .home-thumb-text {
      // border: solid 2px #000;
      box-shadow: none;
      h2, p {color: $redDark;}
    }
  }
  .home-thumb-text {
    @include trailer(.5);
    z-index: 999;
    position:absolute;
    width: 40%;
    top: .5em;
    left: .5em;
    color: $grayDark;
    background: #fff;
    padding:0.5em;
    border: solid 1px #000;
    @include border-radius(8px);
    -webkit-box-shadow: 0.13em 0.13em 0.13em 0.13em rgba(0, 0, 0, .3);
    box-shadow: 0.13em 0.13em 0.13em 0.13em rgba(0, 0, 0, .3);

    &::before {
      content:"";
      display:block; /* FF3.0 */
      position:absolute;
      width:0;
      height:0;
      border-style:solid;
      top:18px; /* controls vertical position */
      right:-14px; /* value = - border-left-width - border-right-width */
      bottom:auto;
      border-width: 8px 0px 8px 13px;
      border-color:transparent #222;
    }

    &::after {
      content: "";
      display: block;
      position: absolute;
      width: 0;
      height: 0;
      border-style: solid;
      top: 19px;
      right: -12px;
      bottom: auto;
      border-width: 7px 0px 7px 12px;
      border-color: transparent #FBFBFB;
    }

    @media (max-width: 767px) {
      // move bubbles on small size 
      position:relative;
      top:0;
      padding: 0;
      width: 100%;
      left: 0;
      border: none;
      &::before, &::after {border:none;}
      -webkit-box-shadow: none;
      box-shadow: none;
      h2 {
      @include leader(0.5);
    }
      p {
      border-bottom: $grayLight;
      @include leader(0.5);
      @include trailer(2); 
      @include trailing-border($width: 2px, $lines: 1, $font-size: $base-font-size, $border-style: dotted);
      }
    }
  } // home-thumb-text

  h2, p {
    font-weight: normal;
    letter-spacing: .02em;
    // background:$red;
  }

  h2 {
    display: inline-block;
    position:relative;
    top: 0px;
    // padding: .25em;
    @include leader(0);
    @include trailer(0);
    @include adjust-font-size-to(18px, 0.5);
    font-weight: bold;
  }

  p {
    @include leader(0);
    @include trailer(0);
    @include adjust-font-size-to(14px, 0.8);
    color: #000;
    // text-align: left;
  }
}


#contact-homepage {
    @include border-radius(3px);
    background: $grayDark;
    h2, h3, address, p, {
        color: #fff;
        padding:0 1em;
    }
    a {color: #fff;}
}


#contact-homepage-mini {
    @include border-radius(3px);
    background: $grayDark;
    @include leader(1); 
    @include trailer(1);
    h2, h3, address, p, {
        color: #fff;
        padding:0 0.5em;
    }
    a {
      color: #fff;
    }
}

#contact-homepage::after {
    content: ".";
    display: block;
    height: 0;
    font-size: 0;
    clear: both;
    visibility: hidden;
  }

.slider-services p { 
  font-weight:bold;
  text-align:center;
}

.slider-services figcaption { 
  font-weight:bold;
  text-align:center;
  @include leader(.5); 
    @include trailer(.5);
}


nav a, img {
  -webkit-transition-property: background-color, color;
  -webkit-transition-duration: .4s;
  -webkit-transition-timing-function: ease-in
}

a:hover {
  -webkit-transition-timing-function: ease-out 
}

::selection {
  background: lighten($red, 15%);;
  color: #fff; 
}
::-moz-selection {
  background: lighten($red, 15%);;
  color: #fff;
}



#footer-extra p {
  @include adjust-font-size-to(14px);
}


